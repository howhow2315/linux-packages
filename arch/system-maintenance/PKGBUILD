pkgname=system-maintenance
pkgver=1.0.5
pkgrel=1
pkgdesc="Daily Arch Linux system maintenance script with systemd timer"
arch=('any')
url="https://github.com/howhow2315/linux-packages"
license=('MIT')
depends=('coreutils' 'findutils' 'systemd' 'pacman' 'pacman-contrib')
optdepends=(
  'yay: AUR helper for updating AUR packages'
  'paru: Alternative AUR helper'
  'rkhunter: Rootkit scanner'
  'chkrootkit: Another rootkit scanner'
  'fail2ban: Ban brute-force attacks and monitor login attempts'
  'reflector: Automatically update pacman mirrorlist'
)
install=system-maintenance.install
source=(
  'system-maintenance.sh'
  'system-maintenance.service'
  'system-maintenance.timer'
  'system-maintenance.install'
)
sha256sums=('df2ba129c565a0ef44b6662fafdc1c5682a73f2420d76dfb62b9721ad4d5615d'
            'fc81918fcfe9151508707b72c1747183157c8c97323755fa43dfca5e989a0b3d'
            '2d7c3645e05009a54cb967782b59924cd0aa0d0277f78bbd1b0c0322536676f7'
            '35354287eb6cde1751b4582bbe66393766dda552934ce8fde46a69ee13030653')

package() {
  install -Dm755 system-maintenance.sh "$pkgdir/usr/bin/system-maintenance"
  install -Dm644 system-maintenance.service "$pkgdir/usr/lib/systemd/system/system-maintenance.service"
  install -Dm644 system-maintenance.timer "$pkgdir/usr/lib/systemd/system/system-maintenance.timer"
}
