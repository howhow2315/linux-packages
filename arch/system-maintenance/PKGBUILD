pkgname=system-maintenance
pkgver=1.0.7
pkgrel=1
pkgdesc="Weekly Arch Linux system maintenance script with systemd timer"
arch=('any')
url="https://github.com/howhow2315/linux-packages"
license=('MIT')
depends=('coreutils' 'findutils' 'systemd' 'pacman' 'pacman-contrib')
optdepends=(
  'yay: AUR helper for updating AUR packages'
  'paru: Alternative AUR helper'
  'rkhunter: Rootkit scanner'
  'chkrootkit: Another rootkit scanner'
  'fail2ban: Ban brute-force attacks and monitor login attempts'
  'reflector: Automatically update pacman mirrorlist'
)
install=system-maintenance.install
source=(
  'system-maintenance.sh'
  'system-maintenance.service'
  'system-maintenance.timer'
  'system-maintenance.install'
)
sha256sums=('1cbce0f05d571d71e616c05c514b1e9a71b7395c90180b212aefe9d5b7307a79'
            'fc81918fcfe9151508707b72c1747183157c8c97323755fa43dfca5e989a0b3d'
            'ffc31614b8caa6f1013b516cf455e8dfa8b3ea06ceabadd3d1c9258a103372c8'
            'c7ff8a57fd444e6870aa709d670520ee5dd6a22c3bb7f8f2fc8b697f781fbb19')

package() {
  install -Dm755 system-maintenance.sh "$pkgdir/usr/bin/system-maintenance"
  install -Dm644 system-maintenance.service "$pkgdir/usr/lib/systemd/system/system-maintenance.service"
  install -Dm644 system-maintenance.timer "$pkgdir/usr/lib/systemd/system/system-maintenance.timer"
}
